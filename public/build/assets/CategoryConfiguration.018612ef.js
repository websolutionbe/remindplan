import{_ as y,H,L as V,a as c,c as i,b as l,w as d,F as p,r,o as h,d as t,t as _,e as T,n as C,f as m,l as Z}from"./app.d1f700f5.js";import{S as x,L as M}from"./Seo.ee947069.js";import{D as A}from"./DonutChart.c5338b00.js";import{I as B,B as L}from"./Button.36b079df.js";const P={name:"Category",components:{Input:B,Button:L,DonutChart:A,Seo:x,Layout:M,Head:H,Link:V},data(){return{category:this.$page.props.category,tasks:[],openNewTaskForm:!1,title:null}},mounted(){this.getTasks()},methods:{async getTasks(){const a=this.$page.props.category.id;await c.get(this.route("task.index",a)).then(s=>{this.tasks=s.data.tasks,this.category=s.data.category})},newTask(){this.openNewTaskForm=!0},setValue(a){this.title=a},async createTask(){await c.post(this.route("task.create"),{title:this.title,category:this.category.id}).then(()=>{this.getTasks(),this.openNewTaskForm=!1,this.$showToast(this.__t("app.task-created","success"))})},async deleteTask(a){await c.post(this.route("task.delete"),{id:a}).then(()=>{this.getTasks(),this.openNewTaskForm=!1,this.$showToast(this.__t("app.task-removed","success"))})}}},N=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8.721 14.765"},[t("g",{transform:"translate(109.419) rotate(90)"},[t("g",{transform:"translate(0 100.698)"},[t("path",{d:"M14.529,101.427l-.484-.487a.81.81,0,0,0-1.142,0l-5.517,5.517-5.524-5.524a.81.81,0,0,0-1.142,0l-.484.484a.808.808,0,0,0,0,1.142l6.576,6.6a.826.826,0,0,0,.573.259h0a.825.825,0,0,0,.571-.259l6.57-6.582a.816.816,0,0,0,.236-.577A.808.808,0,0,0,14.529,101.427Z",transform:"translate(0 -100.698)",fill:"rgba(74,79,111,0.29)"})])])],-1),b={key:0,class:"tasks"},F={class:"content"},I={class:"actions"},S=["onClick"],D=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17.154 21.113"},[t("g",{id:"trash_7_","data-name":"trash (7)",transform:"translate(-48)"},[t("path",{id:"Path_8","data-name":"Path 8",d:"M63.5,2.639H59.876v-.66A1.982,1.982,0,0,0,57.9,0H55.258a1.982,1.982,0,0,0-1.979,1.979v.66H49.649A1.651,1.651,0,0,0,48,4.289V6.6a.66.66,0,0,0,.66.66h.361l.57,11.97a1.977,1.977,0,0,0,1.977,1.885H61.587a1.977,1.977,0,0,0,1.977-1.885l.57-11.97h.361a.66.66,0,0,0,.66-.66V4.289A1.651,1.651,0,0,0,63.5,2.639ZM54.6,1.979a.661.661,0,0,1,.66-.66H57.9a.661.661,0,0,1,.66.66v.66H54.6ZM49.32,4.289a.33.33,0,0,1,.33-.33H63.5a.33.33,0,0,1,.33.33V5.938H49.32ZM62.246,19.165a.659.659,0,0,1-.659.628H51.567a.659.659,0,0,1-.659-.628L50.341,7.258H62.813Z",fill:"#fff"}),t("path",{id:"Path_9","data-name":"Path 9",d:"M240.66,217.9a.66.66,0,0,0,.66-.66V208.66a.66.66,0,1,0-1.32,0v8.577A.66.66,0,0,0,240.66,217.9Z",transform:"translate(-184.083 -199.423)",fill:"#fff"}),t("path",{id:"Path_10","data-name":"Path 10",d:"M320.66,217.9a.66.66,0,0,0,.66-.66V208.66a.66.66,0,1,0-1.32,0v8.577A.66.66,0,0,0,320.66,217.9Z",transform:"translate(-260.784 -199.423)",fill:"#fff"}),t("path",{id:"Path_11","data-name":"Path 11",d:"M160.66,217.9a.66.66,0,0,0,.66-.66V208.66a.66.66,0,1,0-1.32,0v8.577A.66.66,0,0,0,160.66,217.9Z",transform:"translate(-107.382 -199.423)",fill:"#fff"})])],-1),q=[D],z={key:0,class:"task new-task"},E={class:"content"},j={class:"actions"},G=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19.523 19.523"},[t("path",{id:"Path_7","data-name":"Path 7",d:"M16.025,0H2.288A2.29,2.29,0,0,0,0,2.288V17.235a2.29,2.29,0,0,0,2.288,2.288H17.235a2.29,2.29,0,0,0,2.288-2.288V3.5ZM5.986,1.525h4.537v2.9h1.525v-2.9h1.525v3.66a.763.763,0,0,1-.763.763H6.749a.763.763,0,0,1-.763-.763ZM15.1,18H4.461V11.287a.763.763,0,0,1,.763-.763h9.113a.763.763,0,0,1,.763.763Zm2.9-.763a.763.763,0,0,1-.763.763h-.61V11.287A2.29,2.29,0,0,0,14.337,9H5.224a2.29,2.29,0,0,0-2.288,2.288V18H2.288a.763.763,0,0,1-.763-.763V2.288a.763.763,0,0,1,.763-.763H4.461v3.66A2.29,2.29,0,0,0,6.749,7.473h6.063A2.29,2.29,0,0,0,15.1,5.186V1.525h.294l2.6,2.6Z",fill:"#fff"})],-1),J=[G],K={class:"add"},O=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[t("path",{d:"M21.177,9.143H14.857V2.823a2.857,2.857,0,0,0-5.714,0V9.143H2.823a2.857,2.857,0,0,0,0,5.714H9.143v6.319a2.857,2.857,0,0,0,5.714,0V14.857h6.319a2.857,2.857,0,0,0,0-5.714Z",fill:"#fff"})],-1);function Q(a,s,R,U,e,n){const f=r("seo"),u=r("Link"),k=r("Input"),g=r("Button"),v=r("Layout");return h(),i(p,null,[l(f,{meta:a.$page.props.meta},null,8,["meta"]),l(v,{title:a.__t("app.dashboard.title")},{default:d(()=>[l(u,{href:a.route("settings.categories"),class:"back-button"},{default:d(()=>[N]),_:1},8,["href"]),t("h1",null,_(e.category.title),1),e.tasks?(h(),i("ul",b,[(h(!0),i(p,null,T(e.tasks,(o,w)=>(h(),i("li",{class:"task",key:`task_${w}`},[t("div",F,[t("h2",null,_(o.title),1),t("div",I,[t("button",{onClick:W=>n.deleteTask(o.id),class:"action delete"},q,8,S)])])]))),128)),e.openNewTaskForm?(h(),i("li",z,[t("div",E,[l(k,{item:{id:"title",type:"email",placeholder:this.__t("app.new-task"),validation:["required"],value:null},onSetter:s[0]||(s[0]=o=>n.setValue(o))},null,8,["item"]),t("div",j,[t("button",{onClick:s[1]||(s[1]=(...o)=>n.createTask&&n.createTask(...o)),class:C(["action save",{disabled:e.title===null||e.title===""}])},J,2)])])])):m("",!0)])):m("",!0),t("div",K,[l(g,{onClick:n.newTask},{default:d(()=>[O,Z(" "+_(a.__t("app.add")),1)]),_:1},8,["onClick"])])]),_:1},8,["title"])],64)}const at=y(P,[["render",Q]]);export{at as default};
